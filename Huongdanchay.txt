HÆ¯á»šNG DáºªN CÃ€I Äáº¶T & CHáº Y Há»† THá»NG AI TOXIC GUARD
(PhiÃªn báº£n Client-Server: FastAPI + Streamlit)

1. Cáº¥u trÃºc thÆ° má»¥c chuáº©n
    Äá»ƒ há»‡ thá»‘ng cháº¡y khÃ´ng bá»‹ lá»—i, hÃ£y Ä‘áº£m báº£o thÆ° má»¥c dá»± Ã¡n (D:\MLDL02\ASM_MLD) cá»§a báº¡n cÃ³ Ä‘á»§ cÃ¡c file sau:

    ğŸ“‚ ASM_MLD/

    ğŸ“„ api.py : (Code Backend - Chá»©a Model & Xá»­ lÃ½ logic)

    ğŸ“„ ui.py : (Code Frontend - Giao diá»‡n Web Streamlit)

    ğŸ“„ vocab.pkl : (File tá»« Ä‘iá»ƒn - Táº¡o ra tá»« lÃºc Train)

    ğŸ“„ saved_model.pth: (File trá»ng sá»‘ Model - Táº¡o ra tá»« lÃºc Train)



2. CÃ i Ä‘áº·t thÆ° viá»‡n (Chá»‰ lÃ m 1 láº§n)
    Má»Ÿ Terminal trong VS Code vÃ  cháº¡y lá»‡nh sau Ä‘á»ƒ cÃ i táº¥t cáº£ thÆ° viá»‡n cáº§n thiáº¿t:

    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
    pip install fastapi uvicorn streamlit pandas plotly requests
    (LÆ°u Ã½: Náº¿u mÃ¡y báº¡n cÃ³ GPU NVIDIA thÃ¬ cÃ i báº£n Pytorch GPU, cÃ²n lá»‡nh trÃªn lÃ  báº£n CPU nháº¹ nháº¥t).

3. CÃ¡ch cháº¡y há»‡ thá»‘ng (Quan trá»ng)
    Há»‡ thá»‘ng nÃ y cháº¡y theo mÃ´ hÃ¬nh Client-Server nÃªn cáº§n 2 Terminal hoáº¡t Ä‘á»™ng cÃ¹ng lÃºc.

    BÆ¯á»šC 1: Báº¬T SERVER (BACKEND)
    Trong VS Code, má»Ÿ Terminal sá»‘ 1.

    GÃµ lá»‡nh sau vÃ  Enter:

    uvicorn api:app --reload
    ThÃ nh cÃ´ng khi: Báº¡n tháº¥y dÃ²ng chá»¯ Application startup complete.

    LÆ°u Ã½: TUYá»†T Äá»I KHÃ”NG Táº®T TERMINAL NÃ€Y.

    BÆ¯á»šC 2: Báº¬T GIAO DIá»†N (FRONTEND)
    Báº¥m vÃ o dáº¥u + hoáº·c biá»ƒu tÆ°á»£ng chia Ä‘Ã´i mÃ n hÃ¬nh trong VS Code Ä‘á»ƒ má»Ÿ Terminal sá»‘ 2.

    GÃµ lá»‡nh sau vÃ  Enter:

    streamlit run ui.py
    TrÃ¬nh duyá»‡t web sáº½ tá»± Ä‘á»™ng báº­t lÃªn. Giao diá»‡n Ä‘Ã£ sáºµn sÃ ng!

4. CÃ¡ch sá»­ dá»¥ng
    Nháº­p má»™t cÃ¢u bÃ¬nh luáº­n tiáº¿ng Anh vÃ o Ã´ trá»‘ng (VÃ­ dá»¥: "You are stupid").

    Nháº¥n nÃºt ğŸš€ KÃCH HOáº T PHÃ‚N TÃCH.

    Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ ngay bÃªn dÆ°á»›i (Biá»ƒu Ä‘á»“ Radar & % Äá»™c háº¡i).

    Muá»‘n xÃ³a nhanh Ä‘á»ƒ nháº­p cÃ¢u khÃ¡c? Nháº¥n nÃºt ğŸ”„ LÃ€M Má»šI (RESET).

    Muá»‘n xem há»‡ thá»‘ng Ä‘ang xá»­ lÃ½ gÃ¬? TÃ­ch vÃ o Ã´ Show Server Logs bÃªn thanh menu trÃ¡i.

5. Kháº¯c phá»¥c lá»—i thÆ°á»ng gáº·p
    Lá»—i 1: Import "fastapi" could not be resolved

    NguyÃªn nhÃ¢n: ChÆ°a cÃ i thÆ° viá»‡n hoáº·c VS Code chá»n sai Python.

    Sá»­a: Cháº¡y láº¡i lá»‡nh cÃ i Ä‘áº·t á»Ÿ má»¥c 2. Báº¥m Ctrl+Shift+P -> chá»n Python: Select Interpreter -> chá»n cÃ¡i nÃ o cÃ³ dÃ²ng (Recommended).

    Lá»—i 2: ConnectionError / Max retries exceeded (Chá»¯ Ä‘á» lÃ²m trÃªn Web)

    NguyÃªn nhÃ¢n: Báº¡n chÆ°a báº­t api.py hoáº·c Ä‘Ã£ táº¯t Terminal 1.

    Sá»­a: Quay láº¡i Terminal 1 vÃ  cháº¡y lá»‡nh uvicorn api:app --reload.

    Lá»—i 3: File does not exist: ui.py

    NguyÃªn nhÃ¢n: Báº¡n Ä‘ang Ä‘á»©ng sai thÆ° má»¥c hoáº·c Ä‘áº·t sai tÃªn file.

    Sá»­a: GÃµ lá»‡nh ls Ä‘á»ƒ xem tÃªn file lÃ  gÃ¬. Äá»•i tÃªn file cho Ä‘Ãºng lÃ  ui.py.

    Lá»—i 4: RuntimeError: Error(s) in loading state_dict for ToxicLSTM

    NguyÃªn nhÃ¢n: File saved_model.pth khÃ´ng khá»›p vá»›i code Model trong api.py.

    Sá»­a: Äáº£m báº£o cÃ¡c thÃ´ng sá»‘ EMBEDDING_DIM, HIDDEN_DIM trong api.py giá»‘ng há»‡t lÃºc báº¡n Train trong Notebook.